<UserControl x:Class="SystemNodeHelper.View.MainDockablePaneControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:SystemNodeHelper.View"
              xmlns:nodenetwork="clr-namespace:NodeNetwork.Views;assembly=NodeNetwork"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="1000" Background="White">
    <UserControl.Resources>
        <ContextMenu x:Key="nodeMenu" x:Shared="True">
            <MenuItem x:Name="addInputButton" Header="Add Input" Visibility="Visible"/>
            <MenuItem x:Name="addOutputButton" Header="Add Output"/>
        </ContextMenu>
        <Style TargetType="Button">
            <Style.Setters>
                <Setter Property="Margin" Value="2"></Setter>
                <Setter Property="Width" Value="60"></Setter>
                <!--<Setter Property="Height" Value="25"></Setter>-->
                <Setter Property="Padding" Value="2"> </Setter>
                <Setter Property="Cursor" Value="Hand"> </Setter>
                
                
            </Style.Setters>
        </Style>
        <Style TargetType="GroupBox">
            <Style.Setters>
                <Setter Property="Margin" Value="5"></Setter>
            </Style.Setters>
        </Style>

        <Style TargetType="TextBlock">
            <Style.Setters>
                <Setter Property="FontSize" Value="12"></Setter>
                <Setter Property="HorizontalAlignment" Value="Center"></Setter>

            </Style.Setters>
        </Style>
        <Style TargetType="Image">
            <Style.Setters>
                <Setter Property="Width" Value="22"></Setter>
               
            </Style.Setters>
        </Style>
    </UserControl.Resources>
    
    <Grid>
        <DockPanel Margin="5">
            <WrapPanel DockPanel.Dock="Top" Margin="5"  >
                
                <GroupBox Header="操作画板">
                    <WrapPanel>
                        <Button   x:Name="createNetworkBtn" ToolTip="新建一个画板"  >
                            <Button.Content>
                                <StackPanel>
                                    <Image Source="../Resources/img/CreateNetwork.png"  ></Image>
                                    <TextBlock Text="新建"></TextBlock>
                                </StackPanel>
                            </Button.Content>
                        </Button>
                        <ComboBox Width="200" Margin="5" x:Name="nodesSystemListComboBox" Height="25"></ComboBox>
                        <Button  x:Name="saveCurrentNetworkBtn"  ToolTip="保存当前画板">
                            <Button.Content>
                                <StackPanel>
                                    <Image Source="../Resources/img/SaveCurrentNetwork.png"   >
                                        
                                    </Image>
                                    <TextBlock Text="保存"></TextBlock>
                                </StackPanel>
                            </Button.Content>
                        </Button>
                        <Button  x:Name="deleteNetworkBtn"  ToolTip="删除当前画板">
                            <Button.Content>
                                <StackPanel>
                                    <Image Source="../Resources/img/DeleteNetwork.png"  ></Image>
                                    <TextBlock Text="删除"></TextBlock>
                                </StackPanel>
                            </Button.Content>
                        </Button>

                        <Button x:Name="createDraftingBtn" >
                            <Button.Content>
                                <StackPanel>
                                    <Image Source="../Resources/img/CreateDrafting.png"  ></Image>
                                    <TextBlock Text="生成绘图"></TextBlock>
                                </StackPanel>
                            </Button.Content>
                        </Button>
                        
                    </WrapPanel>
                </GroupBox>

                <GroupBox Header="创建节点">
                    <WrapPanel>
                        <Button   x:Name="createNodesBySystemBtn" ToolTip="先用Tab键选上一个系统，再点击此按钮。选择一个系统中的元素作为根节点，将根据这个系统自动生成节点">
                            <Button.Content>
                                <StackPanel>
                                    <Image Source="../Resources/img/CreateNodesBySystem.png"  ></Image>
                                    <TextBlock Text="自动"></TextBlock>
                                </StackPanel>
                            </Button.Content>
                        </Button>
                        <Button  x:Name="createNodesByFatherChildBtn" ToolTip="选择任意一个元素作为父节点。在提示之后，可选择多个元素，在左上角点击完成。将生成相关节点">
                            <Button.Content>
                                <StackPanel>
                                    <Image Source="../Resources/img/CreateNodesByFatherChild.png"  ></Image>
                                    <TextBlock Text="父子"></TextBlock>
                                </StackPanel>
                            </Button.Content>

                        </Button>
                        <!--<Button Content="清除当前"  x:Name="clrarNodeBtn"></Button>-->
                    </WrapPanel>
                </GroupBox>

                <GroupBox Header="排布节点">
                    <WrapPanel>
                        <!--<Button Content="自动铺开" x:Name="layoutAuto"></Button>-->
                        <Button  x:Name="layoutArrangeBtn" ToolTip="根据选中的位置，排列后面节点">
                            <Button.Content>
                                <StackPanel>
                                    <Image Source="../Resources/img/LayoutArrange.png"   ></Image>
                                    <TextBlock Text="对齐"></TextBlock>
                                </StackPanel>
                            </Button.Content>
                        </Button>

                        <Button  x:Name="layoutGridBtn"  ToolTip="根据根节点的位置，排列节点">
                            <Button.Content>
                                <StackPanel>
                                    <Image Source="../Resources/img/LayoutGrid.png"  ></Image>
                                    <TextBlock Text="排布"></TextBlock>
                                </StackPanel>
                            </Button.Content>
                        </Button>
                    </WrapPanel>
                </GroupBox>

                <GroupBox Header="缩放定位">
                    <WrapPanel>
                        <Button x:Name="fitModelBtn" ToolTip="缩放定位选中模型">
                            <Button.Content>
                                <StackPanel>
                                    <Image Source="../Resources/img/FitModel.png"  ></Image>
                                    <TextBlock Text="模型"></TextBlock>
                                </StackPanel>
                            </Button.Content>
                        </Button>
                        <Button  x:Name="fitNodeBtn"  ToolTip="根据选中的模型，缩放定位节点">
                            <Button.Content>
                                <StackPanel>
                                    <Image Source="../Resources/img/FitNode.png"  ></Image>
                                    <TextBlock Text="节点"></TextBlock>
                                </StackPanel>
                            </Button.Content>
                        </Button>

                    </WrapPanel>
                </GroupBox>
            </WrapPanel>

            <nodenetwork:NetworkView x:Name="networkView" DockPanel.Dock="Bottom" >
                <nodenetwork:NetworkView.Resources>
                    <Style TargetType="nodenetwork:NodeView">
                        <Setter Property="ContextMenu" Value="{StaticResource nodeMenu}" />
                    </Style>
                </nodenetwork:NetworkView.Resources>
                <nodenetwork:NetworkView.NetworkBackground>
                    <DrawingBrush TileMode="Tile" Viewport="0,0,96,96" ViewportUnits="Absolute" Viewbox="0,0,96,96" ViewboxUnits="Absolute">
                        <DrawingBrush.Drawing>
                            <GeometryDrawing Brush="Black">
                                <GeometryDrawing.Geometry>
                                    <Geometry>M 77.000,37.000 L 59.000,37.000 L 59.000,19.000 L 77.000,19.000 L 77.000,37.000 Z M 77.000,57.000 L 59.000,57.000 L 59.000,38.000 L 77.000,38.000 L 77.000,57.000 Z M 77.000,76.000 L 59.000,76.000 L 59.000,58.000 L 77.000,58.000 L 77.000,76.000 Z M 77.000,94.000 L 59.000,94.000 L 59.000,77.000 L 77.000,77.000 L 77.000,94.000 Z M 39.000,94.000 L 39.000,77.000 L 58.000,77.000 L 58.000,94.000 L 39.000,94.000 Z M 20.000,94.000 L 20.000,77.000 L 38.000,77.000 L 38.000,94.000 L 20.000,94.000 Z M 2.000,94.000 L 2.000,77.000 L 19.000,77.000 L 19.000,94.000 L 2.000,94.000 Z M 2.000,58.000 L 19.000,58.000 L 19.000,76.000 L 2.000,76.000 L 2.000,58.000 Z M 2.000,38.000 L 19.000,38.000 L 19.000,57.000 L 2.000,57.000 L 2.000,38.000 Z M 2.000,19.000 L 19.000,19.000 L 19.000,37.000 L 2.000,37.000 L 2.000,19.000 Z M 38.000,19.000 L 38.000,37.000 L 20.000,37.000 L 20.000,19.000 L 38.000,19.000 Z M 39.000,57.000 L 39.000,38.000 L 58.000,38.000 L 58.000,57.000 L 39.000,57.000 Z M 39.000,58.000 L 58.000,58.000 L 58.000,76.000 L 39.000,76.000 L 39.000,58.000 Z M 20.000,57.000 L 20.000,38.000 L 38.000,38.000 L 38.000,57.000 L 20.000,57.000 Z M 38.000,58.000 L 38.000,76.000 L 20.000,76.000 L 20.000,58.000 L 38.000,58.000 Z M 58.000,19.000 L 58.000,37.000 L 39.000,37.000 L 39.000,19.000 L 58.000,19.000 Z M 96.000,19.000 L 96.000,18.000 L 78.000,18.000 L 78.000,0.000 L 77.000,0.000 L 77.000,18.000 L 59.000,18.000 L 59.000,0.000 L 58.000,0.000 L 58.000,18.000 L 39.000,18.000 L 39.000,0.000 L 38.000,0.000 L 38.000,18.000 L 20.000,18.000 L 20.000,0.000 L 19.000,0.000 L 19.000,18.000 L 2.000,18.000 L 2.000,0.000 L 0.000,0.000 L 0.000,18.000 L 0.000,19.000 L 0.000,37.000 L 0.000,38.000 L 0.000,57.000 L 0.000,58.000 L 0.000,76.000 L 0.000,77.000 L 0.000,94.000 L 0.000,96.000 L 2.000,96.000 L 19.000,96.000 L 20.000,96.000 L 38.000,96.000 L 39.000,96.000 L 58.000,96.000 L 59.000,96.000 L 77.000,96.000 L 78.000,96.000 L 96.000,96.000 L 96.000,94.000 L 78.000,94.000 L 78.000,77.000 L 96.000,77.000 L 96.000,76.000 L 78.000,76.000 L 78.000,58.000 L 96.000,58.000 L 96.000,57.000 L 78.000,57.000 L 78.000,38.000 L 96.000,38.000 L 96.000,37.000 L 78.000,37.000 L 78.000,19.000 L 96.000,19.000 Z</Geometry>
                                </GeometryDrawing.Geometry>
                            </GeometryDrawing>
                        </DrawingBrush.Drawing>
                    </DrawingBrush>
                </nodenetwork:NetworkView.NetworkBackground>

            </nodenetwork:NetworkView>
        </DockPanel>

    </Grid>
</UserControl>
